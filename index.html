<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Abastecimiento – Milicic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>

<header class="topbar">
  <div>
    <h1>ABASTECIMIENTO</h1>
    <div class="subtitle">Panel de control</div>
    <div class="status" id="globalStatus">Listo</div>
  </div>
  <div class="update-box">
    <div class="update-label">Última actualización</div>
    <div id="lastUpdate">—</div>
  </div>
</header>

<nav class="tabs">
  <button class="tab active" data-view="home">INICIO</button>
  <button class="tab" data-view="mm">ANÁLISIS MM</button>
  <button class="tab" data-view="cump">CUMPLIMIENTO</button>
</nav>

<main class="container">

<!-- INICIO -->
<section id="home" class="view">
  <div class="panel">
    <div class="panel-title">Inicio</div>
    <div class="panel-body">
      Usá las pestañas para ver <b>ANÁLISIS MM</b> (ANALISIS-MM.csv)
      y <b>CUMPLIMIENTO</b> (CUMPLIMIENTO.csv).
    </div>
  </div>
</section>

<!-- ANALISIS MM -->
<section id="mm" class="view hidden">

  <div class="panel">
    <div class="panel-title">ANÁLISIS MM</div>
    <div class="panel-body">

      <label>Cliente (ALMACEN)</label>
      <select id="mmCliente"></select>

      <div class="kpis">
        <div class="kpi">
          <span>Materiales</span>
          <b id="kpiMat">0</b>
        </div>
        <div class="kpi">
          <span>Disponibles</span>
          <b id="kpiDisp">0</b>
        </div>
        <div class="kpi">
          <span>% Disponible</span>
          <b id="kpiPct">0%</b>
        </div>
      </div>

      <canvas id="mmChart" height="120"></canvas>

      <h3>Estados</h3>
      <table id="mmTable">
        <thead></thead>
        <tbody></tbody>
      </table>

    </div>
  </div>
</section>

<!-- CUMPLIMIENTO -->
<section id="cump" class="view hidden">
  <div class="panel">
    <div class="panel-title">CUMPLIMIENTO</div>
    <div class="panel-body">
      <table id="cumpTable">
        <thead></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</section>

</main>

<script src="app.js"></script>
</body>
</html>
